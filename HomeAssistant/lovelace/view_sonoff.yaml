path: sensors
title: ðŸ“Š
id: 6
cards:
  # SONOFF APEX CHARTS CONFIG:
  # Templates defined in dashboard.yaml
  # https://github.com/RomRider/apexcharts-card#apex-charts-options-example
  
  # SONOFF SENSOR VALUES FOR TODAY
  - type: vertical-stack
    title: 'Sonoff 24 h'
    cards:
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Humidity"
        show_states: false
      graph_span: 1d
      all_series_config:
        stroke_width: 1
        type: line
        show:
          legend_value: true
          in_header: false
        extend_to_end: false
      span:
        start: day
      apex_config:
        yaxis:
          max: 100
          ticks: 10
          decimalsInFloat: 0
      series: &sonoff_series_humidity
      - entity: sensor.openweathermap_humidity
        name: Outside (weather)
      - entity: sensor.sonoff_a48001601f_humidity
        name: Basement
      - entity: sensor.sonoff_a4800170dc_humidity
        name: 1st floor lounge
      - entity: sensor.sonoff_a4800170dd_humidity
        name: Upstairs lounge
      - entity: sensor.sonoff_a4800190d2_humidity
        name: Villa
      - entity: sensor.sonoff_a4800198a5_humidity
        name: Upstairs Bathroom
      - entity: sensor.sonoff_a48001c5d4_humidity
        name: 1st floor Bathroom
      - entity: sensor.sonoff_a480019984_humidity
        name: Office
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Temperature"
        show_states: false
      graph_span: 1d
      all_series_config:
        stroke_width: 1
        type: line
        show:
          legend_value: true
          in_header: false
        extend_to_end: false
      span:
        start: day
      series: &sonoff_series_temperature
      - entity: sensor.openweathermap_forecast_temperature
        name: outside (forecast)
      - entity: sensor.sonoff_a48001601f_temperature
        name: Basement
      - entity: sensor.sonoff_a4800170dc_temperature
        name: 1st floor lounge
      - entity: sensor.sonoff_a4800170dd_temperature
        name: Upstairs lounge
      - entity: sensor.sonoff_a4800190d2_temperature
        name: Villa
      - entity: sensor.sonoff_a4800198a5_temperature
        name: Upstairs Bathroom
      - entity: sensor.sonoff_a48001c5d4_temperature
        name: 1st floor Bathroom
      - entity: sensor.sonoff_a480019984_temperature
        name: Office
  # SONOFF SENSOR VALUES FOR 7 DAYS
  - type: vertical-stack
    title: 'Sonoff 7 days'
    cards:
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Humidity"
        show_states: false
      graph_span: 7d
      all_series_config:
        stroke_width: 1
        show:
          legend_value: false
          in_header: false
        extend_to_end: false
      apex_config:
        yaxis:
         #  min: ~60
          max: 100
          ticks: 10
          decimalsInFloat: 0
      series: *sonoff_series_humidity
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Temperature"
        show_states: false
      graph_span: 7d
      all_series_config:
        stroke_width: 1
      series: *sonoff_series_temperature
  # SONOFF SENSOR VALUES FOR 4 WEEKS
  - type: vertical-stack
    title: 'Sonoff 28 days'
    cards:
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Humidity (avg)"
        show_states: false
      graph_span: 28d
      all_series_config:
        stroke_width: 1
      span:
        end: day
      series: *sonoff_series_humidity
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Temperature (avg)"
        show_states: false
      graph_span: 28d
      all_series_config:
        stroke_width: 1
      span:
        end: day
      series: *sonoff_series_temperature
  # Sonoff values for 6 months
  - type: vertical-stack
    title: 'Sonoff 6 months'
    cards:
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Humidity (avg)"
        show_states: false
      graph_span: 180d
      all_series_config:
        stroke_width: 1
        group_by:
          func: avg
          duration: 1d
      series: *sonoff_series_humidity
    - type: 'custom:apexcharts-card'
      header:
        show: true
        title: "Temperature (avg)"
        show_states: false
      graph_span: 180d
      all_series_config:
        stroke_width: 1
        group_by:
          func: avg
          duration: 1d
      series: *sonoff_series_temperature
    - type: history-graph
      refresh_interval: 1200
      hours_to_show: 672
      entities:
        - entity: sensor.sonoff_a48001601f_humidity
        - entity: sensor.sonoff_a48001601f_temperature
        - entity: sensor.sonoff_100112a8e5_rssi
    - type: history-graph
      refresh_interval: 600
      hours_to_show: 168
      entities:
        - entity: switch.sonoff_100112a8e5
        - entity: sensor.sonoff_100112a8e5_rssi